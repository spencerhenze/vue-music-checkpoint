webpackJsonp([0],[,,,function(t,s,e){e(20);var a=e(0)(e(8),e(28),"data-v-a13c13d6",null);t.exports=a.exports},function(t,s,e){"use strict";var a=e(2),n=e(29),o=e(3),i=e.n(o),r=e(23);e.n(r);a.a.use(n.a);new n.a({routes:[{name:"Home",component:i.a,path:"/"}]})},function(t,s,e){"use strict";var a=e(13),n=e.n(a),o=e(2),i=e(31),r=e(1),c=e.n(r),u=!window.location.host.includes("localhost"),l=u?"//vue-music-spencer.herokuapp.com":"//localhost:3000";o.a.use(i.a);var d=new i.a.Store({state:{myTunes:[],results:[],showMyTunes:!0},mutations:{setResults:function(t,s){t.results=s},updateMyTunes:function(t,s){t.myTunes=s},toggleShowMyTunes:function(t,s){1==t.showMyTunes?t.showMyTunes=!1:0==t.showMyTunes&&(t.showMyTunes=!0)}},actions:{toggleShowMyTunes:function(t){var s=t.commit;t.dispatch;s("toggleShowMyTunes")},getMusicByArtist:function(t,s){var e=t.commit,a=(t.dispatch,"https://itunes.apple.com/search?term="+s),n="//bcw-getter.herokuapp.com/?url="+encodeURIComponent(a);c.a.getJSON(n).then(function(t){var s=[];t.results.forEach(function(t){"song"==t.kind&&(t.artworkUrl100=function(t){for(var s=t.split(""),e=0;e<5;e++)s.shift();return s.join("")}(t.artworkUrl100),s.push(t))});var a=s.map(function(t){return{title:t.trackName,albumArt:t.artworkUrl100,artist:t.artistName,album:t.collectionName,price:t.collectionPrice,preview:t.previewUrl,id:t.trackId}}),n=0;a.forEach(function(t){t.jsId="song"+n,t.iconId="stateicon"+n,n++}),e("setResults",a)})},getMyTunes:function(t){var s=t.commit;t.dispatch;c.a.get(l+"/api/mytunes").then(function(t){s("updateMyTunes",t)})},addToMyTunes:function(t,s){var e=(t.commit,t.dispatch);c.a.get(l+"/api/mytunes").then(function(t){s.listPosition=t.length+1,c.a.post(l+"/api/mytunes",s).then(function(t){e("getMyTunes")}).fail(function(t){console.error(t)})}).fail(function(t){console.error(t)})},removeTrack:function(t,s){var e=(t.commit,t.dispatch);c.a.get(l+"/api/mytunes").then(function(t){for(var a=0;a<t.length;a++){var o=t[a],i=t[a+1];if(o._id==s){if(i)for(var r=a;r<t.length;r++){var u=t[r];u.listPosition--,c.a.ajax({url:l+"/api/mytunes/"+u._id,method:"PUT",contentType:"application/json",data:n()(u)}).then(function(t){console.log("")}).fail(function(t){console.error(t)})}c.a.ajax({url:l+"/api/mytunes/"+s,method:"DELETE",contentType:"application/json"}).then(function(t){e("getMyTunes")}).fail(function(t){console.error(t)})}}}).fail(function(t){console.error(t)})},promoteTrack:function(t,s){var e=(t.commit,t.dispatch),a={},o={};c.a.get(l+"/api/mytunes").then(function(t){for(var i=0;i<t.length;i++){var r=t[i],u=t[i-1];if(r.id==s){if(console.log("current song's position: "+r.listPosition),!(r.listPosition>1))return console.log("song is already in the top position");r.listPosition--,console.log("current song's new position: "+r.listPosition),a=r,u.listPosition++,console.log("previous song's new position: "+u.listPosition),o=u}}c.a.ajax({url:l+"/api/mytunes/"+a._id,method:"PUT",contentType:"application/json",data:n()(a)}).then(function(t){console.log("song updated successfully")}).fail(function(t){console.error(t)}),c.a.ajax({url:l+"/api/mytunes/"+o._id,method:"PUT",contentType:"application/json",data:n()(o)}).then(function(t){console.log("previous song updated successfully"),e("getMyTunes")}).fail(function(t){console.error(t)})}).fail(function(t){console.error(t)})},demoteTrack:function(t,s){var e=(t.commit,t.dispatch),a={},o={};c.a.get(l+"/api/mytunes").then(function(t){for(var i=0;i<t.length;i++){var r=t[i],u=t[i+1];if(r.id==s){if(console.log("current song's position: "+r.listPosition),!(r.listPosition<t.length))return console.log("song is already in the last position");r.listPosition++,console.log("current song's new position: "+r.listPosition),a=r,u.listPosition--,console.log("next song's new position: "+u.listPosition),o=u}}c.a.ajax({url:l+"/api/mytunes/"+a._id,method:"PUT",contentType:"application/json",data:n()(a)}).then(function(t){console.log("song updated successfully")}).fail(function(t){console.error(t)}),c.a.ajax({url:l+"/api/mytunes/"+o._id,method:"PUT",contentType:"application/json",data:n()(o)}).then(function(t){console.log("next song updated successfully"),e("getMyTunes")}).fail(function(t){console.error(t)})}).fail(function(t){console.error(t)})}}});s.a=d},function(t,s,e){e(17);var a=e(0)(e(7),e(25),null,null);t.exports=a.exports},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(3),n=e.n(a);s.default={name:"app",components:{Home:n.a}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(22),n=e.n(a),o=e(21),i=e.n(o);s.default={name:"home",data:function(){return{artist:""}},components:{Itunes:i.a,MyTunes:n.a},methods:{getMusic:function(){""!=this.artist&&(this.$store.dispatch("getMusicByArtist",this.artist),this.artist="")},toggleShowMyTunes:function(){this.$store.dispatch("toggleShowMyTunes")}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(1),n=e.n(a);s.default={name:"itunes",data:function(){return{}},computed:{results:function(){return this.$store.state.results},showMyTunes:function(){return this.$store.state.showMyTunes}},methods:{checkIcon:function(t,s){t.paused?(n()("#"+s).removeClass("fa fa-play"),n()("#"+s).addClass("fa fa-pause")):(n()("#"+s).removeClass("fa fa-pause"),n()("#"+s).addClass("fa fa-play"))},aud_play_pause:function(t,s){document.addEventListener("play",function(t){for(var s=document.getElementsByTagName("audio"),e=0,a=s.length;e<a;e++){var n=s[e];n!=t.target&&n.pause()}},!0);var e=document.getElementById(t);e.paused?(this.checkIcon(e,s),e.play()):(this.checkIcon(e,s),e.pause())},addToMyTunes:function(t){this.$store.dispatch("addToMyTunes",t)}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(1),n=e.n(a);s.default={name:"mytunes",data:function(){return{}},computed:{myList:function(){return this.$store.state.myTunes},showMyTunes:function(){return this.$store.state.showMyTunes}},methods:{removeTrack:function(t){console.log("made it to remove track"),this.$store.dispatch("removeTrack",t)},promoteTrack:function(t){this.$store.dispatch("promoteTrack",t)},demoteTrack:function(t){this.$store.dispatch("demoteTrack",t)},checkIcon:function(t,s){t.paused?(n()("#"+s).removeClass("fa fa-play"),n()("#"+s).addClass("fa fa-pause")):(n()("#"+s).removeClass("fa fa-pause"),n()("#"+s).addClass("fa fa-play"))},aud_play_pause:function(t,s){document.addEventListener("play",function(t){for(var s=document.getElementsByTagName("audio"),e=0,a=s.length;e<a;e++){var n=s[e];n!=t.target&&n.pause()}},!0);var e=document.getElementById(t);e.paused?(this.checkIcon(e,s),e.play()):(this.checkIcon(e,s),e.pause())}},mounted:function(){this.$store.dispatch("getMyTunes")}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(1),n=e.n(a);s.default={name:"itunes",data:function(){return{}},computed:{results:function(){return this.$store.state.results},showMyTunes:function(){return this.$store.state.showMyTunes}},methods:{checkIcon:function(t,s){t.paused?(n()("#"+s).removeClass("fa fa-play"),n()("#"+s).addClass("fa fa-pause")):(n()("#"+s).removeClass("fa fa-pause"),n()("#"+s).addClass("fa fa-play"))},aud_play_pause:function(t,s){document.addEventListener("play",function(t){for(var s=document.getElementsByTagName("audio"),e=0,a=s.length;e<a;e++){var n=s[e];n!=t.target&&n.pause()}},!0);var e=document.getElementById(t);e.paused?(this.checkIcon(e,s),e.play()):(this.checkIcon(e,s),e.pause())},addToMyTunes:function(t){this.$store.dispatch("addToMyTunes",t)}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(2),n=e(6),o=e.n(n),i=e(4),r=e(5);new a.a({el:"#app",template:"<App/>",store:r.a,router:i.default,components:{App:o.a}})},,,,function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s){},function(t,s,e){e(19);var a=e(0)(e(9),e(27),null,null);t.exports=a.exports},function(t,s,e){e(16);var a=e(0)(e(10),e(24),null,null);t.exports=a.exports},function(t,s,e){e(18);var a=e(0)(e(11),e(26),null,null);t.exports=a.exports},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return 1==t.showMyTunes?e("div",{staticClass:"myTunes-wrapper col-xs-12 col-sm-5"},[t._m(0),t._v(" "),e("div",{staticClass:"row myTunes-items-wrapper"},t._l(t.myList,function(s){return e("div",{staticClass:"col-xs-12 thumbnail my-card-wrapper"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 info-wrapper"},[e("img",{staticClass:"album-artwork",attrs:{src:s.albumArt,alt:"art"}}),t._v(" "),e("div",{staticClass:"info"},[e("h5",[e("strong",[t._v("Title:")]),t._v(" "+t._s(s.title))]),t._v(" "),e("h5",[e("strong",[t._v("Artist: ")]),t._v(t._s(s.artist))]),t._v(" "),e("h5",[e("strong",[t._v("Album:")]),t._v(" "+t._s(s.album))]),t._v(" "),e("h5",[e("strong",[t._v("Price:")]),t._v(" "+t._s(s.price))])]),t._v(" "),e("div",{staticClass:"btn btn-group-vertical",attrs:{role:"group","aria-label":"promote/demote"}},[e("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){t.promoteTrack(s.id)}}},[e("span",{staticClass:"glyphicon glyphicon-arrow-up",attrs:{"aria-hidden":"true"}})]),t._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.demoteTrack(s.id)}}},[e("span",{staticClass:"glyphicon glyphicon-arrow-down",attrs:{"aria-hidden":"true"}})])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 my-action-bar"},[e("audio",{attrs:{controls:"",id:s.id,src:s.preview,type:"audio/mpeg"}}),t._v(" "),e("i",{staticClass:"fa fa-trash remove-song-button",attrs:{id:s.iconId},on:{click:function(e){t.removeTrack(s._id)}}})])])])}))]):t._e()},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("h1",{staticClass:"myTunes-title"},[t._v("MyTunes")])])])}]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid",attrs:{id:"app"}},[e("home")],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return 1==t.showMyTunes?e("div",{staticClass:"col-xs-offset-1 col-xs-6  results"},[e("div",{staticClass:"row"},t._l(t.results,function(s){return e("div",{staticClass:"col-xs-12 col-sm-6"},[e("div",{staticClass:"thumbnail card-wrapper"},[e("h3",{staticClass:"center-text"},[t._v(t._s(s.artist))]),t._v(" "),e("img",{staticClass:"album-artwork",attrs:{src:s.albumArt,alt:"art"}}),t._v(" "),e("div",{staticClass:"info"},[e("a",{attrs:{href:"javascript:void(0)","data-toggle":"tooltip",title:"Preview"},on:{click:function(e){t.aud_play_pause(s.jsId,s.iconId)}}},[e("i",{staticClass:"fa fa-play play-pause-button",attrs:{id:s.iconId}}),t._v(" "),e("h5",[e("strong",[t._v("Title:")]),t._v(" "+t._s(s.title))])]),t._v(" "),e("h5",[e("strong",[t._v("Album:")]),t._v(" "+t._s(s.album))]),t._v(" "),e("h5",[e("strong",[t._v("Price:")]),t._v(" "+t._s(s.price))]),t._v(" "),e("audio",{attrs:{id:s.jsId,src:s.preview,type:"audio/mpeg"}}),t._v(" "),e("i",{staticClass:"fa fa-plus-circle add-song-button",attrs:{id:s.iconId},on:{click:function(e){t.addToMyTunes(s)}}})])])])}))]):e("div",{staticClass:"col-xs-offset-1 col-xs-10  results"},[e("div",{staticClass:"row"},t._l(t.results,function(s){return e("div",{staticClass:"col-xs-12 col-sm-6 col-md-4"},[e("div",{staticClass:"thumbnail card-wrapper"},[e("h3",{staticClass:"center-text"},[t._v(t._s(s.artist))]),t._v(" "),e("img",{staticClass:"album-artwork",attrs:{src:s.albumArt,alt:"art"}}),t._v(" "),e("div",{staticClass:"info"},[e("a",{attrs:{href:"javascript:void(0)","data-toggle":"tooltip",title:"Preview"},on:{click:function(e){t.aud_play_pause(s.jsId,s.iconId)}}},[e("i",{staticClass:"fa fa-play play-pause-button",attrs:{id:s.iconId}}),t._v(" "),e("h5",[e("strong",[t._v("Title:")]),t._v(" "+t._s(s.title))])]),t._v(" "),e("h5",[e("strong",[t._v("Album:")]),t._v(" "+t._s(s.album))]),t._v(" "),e("h5",[e("strong",[t._v("Price:")]),t._v(" "+t._s(s.price))]),t._v(" "),e("audio",{attrs:{id:s.jsId,src:s.preview,type:"audio/mpeg"}}),t._v(" "),e("i",{staticClass:"fa fa-plus-circle add-song-button",attrs:{id:s.iconId},on:{click:function(e){t.addToMyTunes(s)}}})])])])}))])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return 1==t.showMyTunes?e("div",{staticClass:"col-xs-offset-1 col-xs-6  results"},[e("div",{staticClass:"row"},t._l(t.results,function(s){return e("div",{staticClass:"col-xs-12 col-sm-6"},[e("div",{staticClass:"thumbnail card-wrapper"},[e("h3",{staticClass:"center-text"},[t._v(t._s(s.artist))]),t._v(" "),e("img",{staticClass:"album-artwork",attrs:{src:s.albumArt,alt:"art"}}),t._v(" "),e("div",{staticClass:"info"},[e("a",{attrs:{href:"javascript:void(0)","data-toggle":"tooltip",title:"Preview"},on:{click:function(e){t.aud_play_pause(s.jsId,s.iconId)}}},[e("i",{staticClass:"fa fa-play play-pause-button",attrs:{id:s.iconId}}),t._v(" "),e("h5",[e("strong",[t._v("Title:")]),t._v(" "+t._s(s.title))])]),t._v(" "),e("h5",[e("strong",[t._v("Album:")]),t._v(" "+t._s(s.album))]),t._v(" "),e("h5",[e("strong",[t._v("Price:")]),t._v(" "+t._s(s.price))]),t._v(" "),e("audio",{attrs:{id:s.jsId,src:s.preview,type:"audio/mpeg"}}),t._v(" "),e("i",{staticClass:"fa fa-plus-circle add-song-button",attrs:{id:s.iconId},on:{click:function(e){t.addToMyTunes(s)}}})])])])}))]):e("div",{staticClass:"col-xs-offset-1 col-xs-10  results"},[e("div",{staticClass:"row"},t._l(t.results,function(s){return e("div",{staticClass:"col-xs-12 col-sm-6 col-md-4"},[e("div",{staticClass:"thumbnail card-wrapper"},[e("h3",{staticClass:"center-text"},[t._v(t._s(s.artist))]),t._v(" "),e("img",{staticClass:"album-artwork",attrs:{src:s.albumArt,alt:"art"}}),t._v(" "),e("div",{staticClass:"info"},[e("a",{attrs:{href:"javascript:void(0)","data-toggle":"tooltip",title:"Preview"},on:{click:function(e){t.aud_play_pause(s.jsId,s.iconId)}}},[e("i",{staticClass:"fa fa-play play-pause-button",attrs:{id:s.iconId}}),t._v(" "),e("h5",[e("strong",[t._v("Title:")]),t._v(" "+t._s(s.title))])]),t._v(" "),e("h5",[e("strong",[t._v("Album:")]),t._v(" "+t._s(s.album))]),t._v(" "),e("h5",[e("strong",[t._v("Price:")]),t._v(" "+t._s(s.price))]),t._v(" "),e("audio",{attrs:{id:s.jsId,src:s.preview,type:"audio/mpeg"}}),t._v(" "),e("i",{staticClass:"fa fa-plus-circle add-song-button",attrs:{id:s.iconId},on:{click:function(e){t.addToMyTunes(s)}}})])])])}))])},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"home"},[t._m(0),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12"},[e("form",{staticClass:"form-inline form-style",on:{submit:function(s){s.preventDefault(),t.getMusic(s)}}},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.artist,expression:"artist"}],staticClass:"form-control",attrs:{id:"search-bar",type:"text",placeholder:"Artist Name"},domProps:{value:t.artist},on:{input:function(s){s.target.composing||(t.artist=s.target.value)}}}),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit",id:"get-music-button"}},[t._v("Get Music")])]),t._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button",id:"show-myTunes-button"},on:{click:t.toggleShowMyTunes}},[t._v("Show MyTunes")])])])]),t._v(" "),e("div",{staticClass:"row",attrs:{id:"songs"}},[e("itunes",{staticClass:"itunes"}),t._v(" "),e("MyTunes",{staticClass:"my-tunes"})],1)])},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 page-header"},[e("h1",{staticClass:"page-title"},[t._v("Discover Your Music")])])])}]}}],[12]);
//# sourceMappingURL=app.913538420e38f8029dd6.js.map